<div class="row justify-content-center">
  <div class="col-md-6">
    <h2>Add Employee</h2>

    <div *ngIf="success" class="alert alert-success">
      Employee created successfully! Redirecting...
    </div>

    <div *ngIf="error" class="alert alert-danger">
      {{ error }}
    </div>

    <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="name" class="form-label">Name</label>
        <input
          type="text"
          class="form-control"
          id="name"
          formControlName="name"
          [class.is-invalid]="name?.invalid && name?.touched">
        <div *ngIf="name?.invalid && name?.touched" class="invalid-feedback">
          <div *ngIf="name?.errors?.['required']">Name is required</div>
          <div *ngIf="name?.errors?.['maxlength']">Name cannot exceed 100 characters</div>
        </div>
      </div>

      <div class="mb-3">
        <label for="address" class="form-label">Address</label>
        <textarea
          class="form-control"
          id="address"
          rows="3"
          formControlName="address"
          [class.is-invalid]="address?.invalid && address?.touched"></textarea>
        <div *ngIf="address?.invalid && address?.touched" class="invalid-feedback">
          <div *ngIf="address?.errors?.['required']">Address is required</div>
          <div *ngIf="address?.errors?.['maxlength']">Address cannot exceed 200 characters</div>
        </div>
      </div>

      <div class="mb-3">
        <label for="salary" class="form-label">Salary</label>
        <input
          type="number"
          class="form-control"
          id="salary"
          formControlName="salary"
          [class.is-invalid]="salary?.invalid && salary?.touched">
        <div *ngIf="salary?.invalid && salary?.touched" class="invalid-feedback">
          <div *ngIf="salary?.errors?.['required']">Salary is required</div>
          <div *ngIf="salary?.errors?.['min']">Salary must be greater than or equal to 0</div>
        </div>
      </div>

      <div class="d-flex gap-2">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="employeeForm.invalid || submitting">
          <span *ngIf="submitting" class="spinner-border spinner-border-sm me-2"></span>
          {{ submitting ? 'Creating...' : 'Create Employee' }}
        </button>
        <button type="button" class="btn btn-secondary" (click)="router.navigate(['/employees'])">Cancel</button>
      </div>
    </form>
  </div>
</div>
